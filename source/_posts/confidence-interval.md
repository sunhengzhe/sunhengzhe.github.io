---
title: 置信区间
date: 2017-01-27 12:36:45
tags: [统计学]
---

> 置信区间是指由样本统计量所构造的总体参数的估计区间。

<!-- more -->

先看一个很常见的场景。

某地区将要进行选举活动，有 A、B 两个候选人，现随机抽查 250 个人，其中 142 个人支持 A，其他人支持 B。

这是一个很简单的伯努利分布，假设选 A 的概率是 $p$，选 B 的概率是 $1 - p$，期望为 $\mu$，方差为 $\sigma$。如果能统计整个地区的所有人，那么这些值都能得到，但是统计整个地区显然是不切实际的，不过题目中给出了随机抽查的 250 个人，这 250 个人也就是样本，我们可以计算样本的几个统计值。

设选 A 为 1，选 B 为 0；

那么期望 $\overline{X}$、方差 $s^2$ 可以得到：

$\overline{X} = \frac{0 \times 142 + 1 \times (250 - 142)}{250} = 0.432$
$s^2 = \frac{142 \times (0 - \overline{X})^2 + (250 - 142) \times (1 - \overline{X}^2)}{250 - 1} = 0.246$
$s = \sqrt{s^2} = 0.496$

那么，我们可以说选 A 的概率就是 0.432 吗？当然是不行的，因为 0.432 只是样本的期望值，和总体的期望值 $\mu$ 是有差别的，我们需要估计总体期望值的大概范围。

而根据中心极限定理，总体期望等于样本均值的均值，而样本均值的分布是正态分布，且

$
\mu\_{\overline{X}} = \mu
$
$
\sigma\_{\overline{X}} = \frac{\sigma}{\sqrt{n}}
$


然而我们也没有总体的标准差 $\sigma$，但我们可以通过样本的标准差来估计总体的标准差，即

$$
\sigma \approx s = 0.496
$$

所以

$$
\sigma_{\overline{X}} = \frac{\sigma}{\sqrt{n}} \approx \frac{s}{\sqrt{n}} = \frac{0.496}{\sqrt{250}} = 0.031
$$

也就是说，样本均值的抽样分布是符合 $\sigma = 0.031$ 的正态分布，当然有一定的误差，因为总体的标准差是估计的。

而根据正态分布的经验法则，在 $(\mu − 3\sigma, \mu + 3\sigma), (\mu − 3\sigma, \mu + 3\sigma)$ 发生的概率为 99.7%，也就是说，**我们有 99.7% 的理由相信，我们的样本均值是落在 $\mu$ 的三个标准差以内的。** 换句话说，$\mu$ 有 99.7% 的可能性处在样本均值的三个标准差以内。

那么也就是说： 有 99.7% 的可能性，选 A 的概率在 0.496 - 3 \* 0.031 到 0.496 + 3 \* 0.031 之间，即 0.403 到 0.589。

置信区间即 $0.496 \pm 0.093$。

另外需要注意的是，在本例中，样本空间大小为 250，如果样本数量很小，不超过 30 个时，就不能将样本均值的抽样分布看作标准的正态分布，而被称为 t 分布，t 分布的标准差要比正态分布的更大一些，针对 t 分布的概率表格，可以去查对应的 t 表格。
