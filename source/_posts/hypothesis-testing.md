---
title: 假设检验和 p 值
date: 2017-02-13 23:36:45
tags: [统计学]
---

当分析两件事情的发生有没有关联的时候，比如每天吃宵夜和长胖，我想知道这两件事情到底有没有关联，那么我们可以做出两个假设。

1. 每天吃宵夜和长胖没有关联，也就是 **零假设**。
2. 每天吃宵夜和长胖有关联，也就是 **备择假设**。

那么我们到底是接受零假设还是备择假设呢，当然要用数据来说话，我们可以这样做：我们先假设零假设是正确的，然后对样本进行分析，如果分析得到的结果表示：若零假设成立（两件事情没有关联），得到这个样本的概率是极小的，那么我们就能推翻零假设，也就是 **拒绝零假设**，转而接受备择假设。反之，如果结果表示得到样本的概率并不小，那么可以认为零假设是正确的。

<!-- more -->

举个栗子。

已知没有注射药物的老鼠平均反应时间是 1.2 秒，有 100 只注射了药物的老鼠，平均反应时间是 1.05 秒，标准差为 0.5 秒，那么，你认为该药物对反应时间有效果吗？

### 假设检验

首先，我们可以建立两个假设：

1. 零假设（$H_0$）：药物没有效果，注射后的老鼠平均反应时间 $\mu$ 依旧等于 1.2
2. 备择假设（$H_1$）：药物有效果，注射后的老鼠平均反应时间 $\mu \neq 1.2$

我们先假设零假设是正确的，然后分析得到样本均值为 1.05、标准差为 0.5 这一结果的概率有多大，如果产生这个样本的概率非常小，那么我们就拒绝零假设，反之接受它。

因为样本容量为 100，大于 30，所以可以认为样本均值的抽样分布近似为正态分布，且

$$
\mu\_{\overline{X}} = 1.2
$$
$$
\sigma\_{\overline{X}} = \frac{\sigma}{\sqrt{n}} \approx \frac{s}{\sqrt{n}} = 0.05
$$

那么，均值为 1.05 的样本落在样本均值的抽样分布上的概率是多少？我们先求出 z 分数：

$$
z-score = \frac{1.05 - 1.2}{0.05} = -3
$$

也就是说这个样本落在了距样本均值的抽样分布的均值的 3 个标准差的位置，根据正态分布的经验法则，得到距离 3 个标准差的位置（左右各一处）的概率为 $100 - 99.7 = 0.3$，只有 0.3% 的概率。

这个结果说明若零假设成立，也就是样本均值的抽样分布的均值还是 1.2 的话，得到这个样本的概率是很小的，那么就能说明零假设很有可能是错误的。

### p 值

上面这个概率也称为 p 值，一般而言，我们把 p 值上限设置为 5%，当概率小于 5% 时，说明得到这个样本的概率是很小的，换句话说，若零假设成立，应该不太可能得到这个样本，那么我们就说零假设可能是错的，我们转而接受备择假设。在这个例子里面，也就是药物是有效果的。

### 第一型错误

当然，虽然概率小，但是还是有 0.3% 的概率能够得到这个样本，也就是我们的推论有 0.3% 的可能是错误的，这种错误称为第一型错误，在这个例子里面，即拒绝零假设存在 0.3% 的概率犯第一型错误。
