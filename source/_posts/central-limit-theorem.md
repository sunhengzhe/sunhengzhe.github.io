---
title: 中心极限定理
date: 2017-01-23 22:28:45
tags: [统计学]
---

中心极限定理非常简单，但非常强大。

<!--more-->

假设这里有一枚古怪的骰子，它有 30% 的概率掷到 1，20% 的概率掷到 3，10% 的概率掷到 4，40% 的概率掷到6，且永远不会掷到 2 和 5。下面是它古怪的概率分布图。

![](http://7xo08n.com1.z0.glb.clouddn.com/blog/central-limit-theorem/0.png)

下面我随机掷 10 次骰子，并计算出这 10 次结果的平均数。把这个过程称为一次试验，重复进行 100000 次后，记录各种平均数出现的次数，得到这样的结果：

![](http://7xo08n.com1.z0.glb.clouddn.com/blog/central-limit-theorem/1.png)

可能现在还不太明显，继续增加每次试验掷骰子的次数 n，从 10 增加到 25，得到结果如下：

![](http://7xo08n.com1.z0.glb.clouddn.com/blog/central-limit-theorem/2.png)

跟正态分布图很像！实际上，n 越大，这个图像越接近 **正态分布**，这也是中心极限定理给出的：

> 如果你从总体中随机抽取多个样本，那么每一样本的平均数趋于正态分布。

**这真是一件神奇的事情，骰子的概率分布图跟正态分布八竿子打不到一起，但是最终得到了一个正态分布图。**

## 中心极限定理

不仅如此，中心极限定理还给出了样本和总体具有的紧密联系。

1. 样本平均数的平均数等于总体的平均数。
2. 样本平均数的方差 $\sigma\_{\overline{X}}^2$ 等于 总体方差 $\sigma^2$ 除以 n，即 $\sigma\_{\overline{X}}^2 = \frac{\sigma^2}{n}$

听起来有点绕口，结合上面例子，我们在 100000 次试验中得到了 100000 组样本，每组样本的样本数是 25，那么，这些样本的平均数趋于正态分布。

样本均值也就是指上面得到的 100000 个平均数；样本均值的平均数即这 100000 个平均数的平均数；样本均值的方差即这 100000 个平均数的方差。

我们可以验证一下中心极限定理给出的等式：

在上面的例子里面，总体的期望值

$$
\mu = 0.3 \times 1 + 0.2 \times 3 + 0.1 \times 4 + 0.4 \times 6 = 3.5
$$

总体的方差
$$
\sigma^2 = 0.3 \times (1 - 3.5)^2 + 0.2 \times (3 - 3.5)^2 + 0.1 \times (4 - 3.5)^2 + 0.4 \times (6 - 3.5)^2 = 4.45
$$

以 $n = 25$，为例，此时的 $\overline{X} = 3.7$，$\sigma\_{\overline{X}}^2 = 0.176$（做试验的时候就能算出来）。

而根据公式，$\frac{\sigma^2}{n} = \frac{4.45}{25} = 0.175$，和 0.176 已经非常接近了。

所以，使用中心极限定理，可以根据样本估计总体的情况，也可以在已知总体的情况对样本做估计。

## 例子

举个实际的例子：

男性在户外活动时平均需要喝 2 升水，标准差 0.7 升，你先在要为 50 个男性策划一个户外活动，并准备携带 110 升水，请问水不够的概率是多少？

水不够也就是说 50 个男性饮水量超过了 110 升水，所以实际上问题等同于 50 个男性平均饮水量超过 $110 / 50 = 2.2$ 升水的概率是多少。

而 50 正是从总体中抽出的样本数 n，根据中心极限定理：

1. 样本均值的均值 $\overline{X} = \mu = 2$
2. 当 n = 50 时，样本均值方差 $\sigma\_{\overline{X}}^2 = \frac{\sigma^2}{n}$，那么样本均值标准差 $\sigma\_{\overline{X}} = \frac{\sigma}{\sqrt{n}} = \frac{0.7}{\sqrt{50}} = 0.099$

*为了方便讨论，把 0.099 约成 0.1。*

那么，样本均值即是满足 $\mu = 2$，${\sigma = 0.1}$ 的正态分布。

回到问题上来，也就是求在这个正态分布中，大于 2.2 的概率是多少？

2.2 超过了均值(2) 2 个标准差(0.1)，根据经验法则，这个概率也就是 $1 - (0.5 + 0.95 / 2) = 0.025$。
